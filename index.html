<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>✨ Avni's Workspace ✨</title>
  <style>
    body { font-family: Arial; max-width: 800px; margin: auto; padding: 20px; background: #f0f4f8; }
    h1, h2 { color: #333; }
    textarea, input { width: 100%; margin: 5px 0; padding: 5px; }
    button { padding: 5px 10px; margin: 5px 0; }
    .section { background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
    ul { list-style: none; padding: 0; }
    li { background: #e7ebf0; margin: 5px 0; padding: 10px; border-radius: 5px; }
  </style>
</head>
<body>

<h1>✨ Avni's Workspace ✨</h1>

<div class="section" id="journal-section">
  <h2>Journal</h2>
  <textarea id="journal-entry" placeholder="Write your journal..."></textarea>
  <button onclick="addJournal()">Add Entry</button>
  <ul id="journal-list"></ul>
</div>

<div class="section" id="grades-section">
  <h2>Grades Tracker</h2>
  <input type="text" id="subject" placeholder="Subject">
  <input type="text" id="assignment" placeholder="Assignment">
  <input type="number" id="score" placeholder="Score">
  <input type="number" id="total" placeholder="Total">
  <button onclick="addGrade()">Add Grade</button>
  <ul id="grades-list"></ul>
  <p id="average"></p>
</div>

<script>
  // --- Journal ---
  function loadJournal() {
    const entries = JSON.parse(localStorage.getItem('journal')) || [];
    const list = document.getElementById('journal-list');
    list.innerHTML = '';
    entries.forEach((e, i) => {
      const li = document.createElement('li');
      li.textContent = e;
      const del = document.createElement('button');
      del.textContent = 'Delete';
      del.style.marginLeft = '10px';
      del.onclick = () => { deleteJournal(i); };
      li.appendChild(del);
      list.appendChild(li);
    });
  }

  function addJournal() {
    const entry = document.getElementById('journal-entry').value;
    if (!entry) return;
    const entries = JSON.parse(localStorage.getItem('journal')) || [];
    entries.push(entry);
    localStorage.setItem('journal', JSON.stringify(entries));
    document.getElementById('journal-entry').value = '';
    loadJournal();
  }

  function deleteJournal(index) {
    const entries = JSON.parse(localStorage.getItem('journal')) || [];
    entries.splice(index, 1);
    localStorage.setItem('journal', JSON.stringify(entries));
    loadJournal();
  }

  loadJournal();

  // --- Grades ---
  function loadGrades() {
    const grades = JSON.parse(localStorage.getItem('grades')) || [];
    const list = document.getElementById('grades-list');
    list.innerHTML = '';
    let totalScore = 0, totalMax = 0;
    grades.forEach((g, i) => {
      const li = document.createElement('li');
      li.textContent = `${g.subject} - ${g.assignment}: ${g.score}/${g.total}`;
      const del = document.createElement('button');
      del.textContent = 'Delete';
      del.style.marginLeft = '10px';
      del.onclick = () => { deleteGrade(i); };
      li.appendChild(del);
      list.appendChild(li);
      totalScore += parseFloat(g.score);
      totalMax += parseFloat(g.total);
    });
    const avg = totalMax ? ((totalScore/totalMax)*100).toFixed(2) : 0;
    document.getElementById('average').textContent = `Average: ${avg}%`;
  }

  function addGrade() {
    const subject = document.getElementById('subject').value;
    const assignment = document.getElementById('assignment').value;
    const score = parseFloat(document.getElementById('score').value);
    const total = parseFloat(document.getElementById('total').value);
    if (!subject || !assignment || isNaN(score) || isNaN(total)) return;
    const grades = JSON.parse(localStorage.getItem('grades')) || [];
    grades.push({subject, assignment, score, total});
    localStorage.setItem('grades', JSON.stringify(grades));
    document.getElementById('subject').value = '';
    document.getElementById('assignment').value = '';
    document.getElementById('score').value = '';
    document.getElementById('total').value = '';
    loadGrades();
  }

  function deleteGrade(index) {
    const grades = JSON.parse(localStorage.getItem('grades')) || [];
    grades.splice(index, 1);
    localStorage.setItem('grades', JSON.stringify(grades));
    loadGrades();
  }

  loadGrades();
</script>

</body>
</html>
